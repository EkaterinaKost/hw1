# **Семинар 2**

## Решение

lxc-create --name=con1 --template=ubuntu <br>
создать контейнер с именем con1 по шаблону ubuntu (без лог-файла) <br>

команда:<br>
lxc-create -n con2 -t ubuntu --logfile=HomeWork02/con2.log <br>
создать контейнер с именем con1 по шаблону ubuntu, назначить лог-файл <br>

В файлах конфигурации контейнеров были добавлены ограничение памяти 128М и 256М, а также автозапуск.<br>

Отрывки из конфиг-файла <br>
```
# additional
lxc.cgroup2.memory.max = 128M
lxc.start.auto = 1

# logging
lxc.log.file = /home/HomeWork02/con1.log
lxc.log.level = 1


lxc-start con2 --logfile=HomeWork02/con2.log --logpriority=NOTICE 
```

запустить контейнер с именем con2, назначить лог-файл,<br> назначить уровень логирования<br>

lxc-start con1 --logfile=HomeWork02/con1.log --logpriority=NOTICE <br>
запустить контейнер с именем con1, назначить лог-файл, назначить уровень логирования <br>


На этом этапе оба контейнера подключились в общую сеть на мост lxcbr0. Был отключен dhcp в файлах /etc/netplan/0-lxc.yaml, соответственно, сеть работать перестала.<br>
Далее хост-система была перезагружена, контейнеры запустились автоматически, без сети, с заданными ограничениями памяти.<br>
Изменений в назначенных лог-файлах не возникло. Запись в лог-файлы после перезагрузки стала осуществляться после добавления опций логирования в конфигурационные файлы контейнеров.<br>

После этого постепенно была настроена сеть средствами утилиты ip. <br>
Затем были изменены файлы конфигурации netplan контейнеров и хост-системы.<br>
